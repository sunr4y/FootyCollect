# FootyCollect Production Environment Variables
# Copy this file to .env on your server and fill in the values

# Django Settings
DJANGO_SECRET_KEY=your-secret-key-here-generate-with-django-admin-utils
DJANGO_DEBUG=False
DJANGO_ALLOWED_HOSTS=your-domain.com,www.your-domain.com
DJANGO_ADMIN_URL=admin/

# Database
DATABASE_URL=postgresql://footycollect:your-db-password@localhost:5432/footycollect_db

# Redis
REDIS_URL=redis://localhost:6379/0

# API rate limiting (DRF /api/ endpoints)
DJANGO_DRF_USER_THROTTLE_RATE=100/hour
DJANGO_DRF_ANON_THROTTLE_RATE=20/hour

# Security (headers, cookies)
DJANGO_SECURE_SSL_REDIRECT=True
DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=True
DJANGO_SECURE_HSTS_PRELOAD=True
DJANGO_SECURE_CONTENT_TYPE_NOSNIFF=True
DJANGO_SESSION_COOKIE_SAMESITE=Lax
DJANGO_CSRF_COOKIE_SAMESITE=Lax
DJANGO_REFERRER_POLICY=strict-origin-when-cross-origin
DJANGO_PERMISSIONS_POLICY=geolocation=(), microphone=(), camera=(), payment=()

# Content-Security-Policy (CSP). Production enables CSP by default.
# Use comma-separated values; CSP keywords must be quoted (e.g. 'self').
# img-src: domains from which images can load (your media origin + any external image URLs,
# e.g. kit images from APIs). Default already includes gravatar + footballkitarchive.com.
DJANGO_CSP_ENABLED=True
DJANGO_CSP_IMG_SRC='self', data:, blob:, https://www.gravatar.com, https://cdn.footballkitarchive.com, https://www.footballkitarchive.com, https://YOUR-BUCKET.s3.amazonaws.com
# Optional overrides (defaults include cdnjs, fonts, etc. for UI)
# DJANGO_CSP_DEFAULT_SRC='self'
# DJANGO_CSP_SCRIPT_SRC='self', 'unsafe-inline', 'unsafe-eval', https://cdnjs.cloudflare.com
# DJANGO_CSP_STYLE_SRC='self', 'unsafe-inline', https://cdnjs.cloudflare.com, https://fonts.googleapis.com
# DJANGO_CSP_FONT_SRC='self', https://cdnjs.cloudflare.com, https://fonts.gstatic.com
# DJANGO_CSP_CONNECT_SRC='self'
# DJANGO_CSP_FRAME_ANCESTORS='self'
# DJANGO_CSP_FORM_ACTION='self'

# Email (SendGrid)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_API_URL=https://api.sendgrid.com/v3/
DJANGO_DEFAULT_FROM_EMAIL=footycollect <noreply@your-domain.com>
DJANGO_SERVER_EMAIL=footycollect <noreply@your-domain.com>
DJANGO_EMAIL_SUBJECT_PREFIX=[footycollect]

# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.0

# Storage Backend (aws, r2)
STORAGE_BACKEND=aws

# AWS S3 Storage (if using S3)
DJANGO_AWS_ACCESS_KEY_ID=your-aws-access-key-id
DJANGO_AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
DJANGO_AWS_STORAGE_BUCKET_NAME=your-bucket-name
DJANGO_AWS_S3_REGION_NAME=us-east-1
DJANGO_AWS_S3_CUSTOM_DOMAIN=

# Cloudflare R2 Storage (if using R2)
CLOUDFLARE_ACCESS_KEY_ID=your-cloudflare-access-key-id
CLOUDFLARE_SECRET_ACCESS_KEY=your-cloudflare-secret-access-key
CLOUDFLARE_BUCKET_NAME=your-r2-bucket-name
CLOUDFLARE_R2_ENDPOINT_URL=https://<account-id>.r2.cloudflarestorage.com
CLOUDFLARE_R2_REGION=auto
CLOUDFLARE_R2_CUSTOM_DOMAIN=

# External image downloads (Celery). Comma-separated hostnames allowed for SSRF safety.
DJANGO_ALLOWED_EXTERNAL_IMAGE_HOSTS=cdn.footballkitarchive.com,www.footballkitarchive.com

# FKAPI Configuration
FKA_API_IP=your-fkapi-server-ip
API_KEY=your-fkapi-key

# Rotating Proxy (for image downloads to avoid rate limiting)
# Supports HTTP/HTTPS/SOCKS5 proxies
# Format: protocol://host:port (e.g., http://proxy.example.com:8080)
ROTATING_PROXY_URL=
ROTATING_PROXY_USERNAME=
ROTATING_PROXY_PASSWORD=

# Connection Pooling
CONN_MAX_AGE=60

# Compression
COMPRESS_ENABLED=True
